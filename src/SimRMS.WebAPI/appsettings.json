{
  "ConnectionStrings": {
    "DefaultConnection": "Server=192.168.100.48;Database=DB_EFBTX_LBSL;User Id=sa;Password=Excel@123force;TrustServerCertificate=true;MultipleActiveResultSets=true;"
  },
  "Security": {
    "AllowedRoutes": [
      "/health",
      "/api/V1/handshake",
      "/api/V1/handshake/validate"
    ],
    "AllowedRoutePrefixes": [
      "/api/V1/auth/login",
      "/swagger",
      "/health"
    ],
    "EnableStrictPathMatching": true,
    "CaseSensitiveMatching": false
  },
  "LB_DAL": {
    "CommandTimeout": 60,
    "IsolationLevel": "ReadCommitted",
    "EnableConnectionPooling": true,
    "MaxPoolSize": 100,
    "MinPoolSize": 5,
    "ConnectionTimeout": 30
  },
  "ApiVersioning": {
    "Enabled": true,
    "DefaultVersion": "1.0",
    "GroupNameFormat": "'v'VVV",
    "SubstitutionFormat": "VVV",
    "EnableDeprecationWarnings": true,
    "StrictVersionValidation": false,
    "MaxSupportedVersions": 3,
    "SupportedVersions": [
      {
        "Version": "1.0",
        "Status": "Current",
        "Description": "Initial release with core functionality",
        "DeprecationDate": null,
        "SunsetDate": null,
        "BreakingChanges": []
      },
      {
        "Version": "2.0",
        "Status": "Preview",
        "Description": "Enhanced features with improved performance",
        "DeprecationDate": null,
        "SunsetDate": null,
        "BreakingChanges": [
          "Response format changes for error messages",
          "New required headers for authentication"
        ]
      }
    ]
  },
  "AppCredentials": {
    "AppId": "RMS_APP_2025",
    "AppSecret": "RMS_SECRET_2025_SECURE_KEY"
  },
  "TokenService": {
    "HandshakeUrl": "",
    "GenerateUrl": "http://192.168.100.48:9092/token",
    "ValidateUrl": "http://192.168.100.48:9092/validate",
    "ClaimsUrl": "",
    "RevokeUrl": "",
    "ApiKey": "your-token-service-api-key",
    "DefaultPID": "EFTEST01",
    "LoginId": "ibroker",
    "Password": "ibroker"
  },
  "KeyVault": {
    "VaultUrl": "https://your-keyvault.vault.azure.net/"
  },
  "IpRateLimiting": {
    "EnableEndpointRateLimiting": true,
    "StackBlockedRequests": false,
    "RealIpHeader": "X-Real-IP",
    "ClientIdHeader": "X-ClientId",
    "GeneralRules": [
      {
        "Endpoint": "*",
        "Period": "1m",
        "Limit": 100
      }
    ]
  },
  "Serilog": {
    "Using": [ 
      "Serilog.Sinks.Console", 
      "Serilog.Sinks.File",
      "Serilog.Sinks.Async"
    ],
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "Microsoft.Hosting.Lifetime": "Information",
        "Microsoft.AspNetCore": "Warning",
        "Microsoft.AspNetCore.Hosting.Diagnostics": "Error",
        "Microsoft.AspNetCore.StaticFiles": "Error", 
        "Microsoft.AspNetCore.Routing": "Error",
        "System": "Warning",
        "System.Net.Http": "Warning",
        "LB.DAL.Core.Common": "Information",
        "SimRMS": "Information"
      }
    },
    "WriteTo": [
      {
        "Name": "Async",
        "Args": {
          "configure": [
            {
              "Name": "Console",
              "Args": {
                "outputTemplate": "[{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz}] [{Level:u3}] [{SourceContext}] {Message:lj} {NewLine}{Exception}",
                "theme": "Serilog.Sinks.SystemConsole.Themes.AnsiConsoleTheme::Code, Serilog.Sinks.Console"
              }
            }
          ]
        }
      },
      {
        "Name": "Async",
        "Args": {
          "configure": [
            {
              "Name": "File",
              "Args": {
                "path": "C:\\Logs\\SimRMS\\Application\\rms-app-.log",
                "rollingInterval": "Day",
                "retainedFileCountLimit": 30,
                "fileSizeLimitBytes": 104857600,
                "rollOnFileSizeLimit": true,
                "shared": true,
                "flushToDiskInterval": "00:00:01",
                "outputTemplate": "[{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz}] [{Level:u3}] [{SourceContext}] [{RequestId}] [{UserId}] [{ClientIP}] {Message:lj} {NewLine}{Exception}{NewLine}Properties: {Properties:j}{NewLine}"
              }
            }
          ]
        }
      },
      {
        "Name": "Async",
        "Args": {
          "configure": [
            {
              "Name": "File",
              "Args": {
                "path": "C:\\Logs\\SimRMS\\Errors\\rms-errors-.log",
                "rollingInterval": "Day",
                "retainedFileCountLimit": 60,
                "fileSizeLimitBytes": 52428800,
                "rollOnFileSizeLimit": true,
                "shared": true,
                "flushToDiskInterval": "00:00:01",
                "restrictedToMinimumLevel": "Warning",
                "outputTemplate": "[{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz}] [{Level:u3}] [{SourceContext}] [{RequestId}] [{UserId}] [{ClientIP}] {Message:lj} {NewLine}{Exception}{NewLine}StackTrace: {NewLine}{@StackTrace}{NewLine}Properties: {Properties:j}{NewLine}========================================{NewLine}"
              }
            }
          ]
        }
      },
      {
        "Name": "Async",
        "Args": {
          "configure": [
            {
              "Name": "File",
              "Args": {
                "path": "C:\\Logs\\SimRMS\\Performance\\rms-performance-.log",
                "rollingInterval": "Day",
                "retainedFileCountLimit": 14,
                "fileSizeLimitBytes": 52428800,
                "rollOnFileSizeLimit": true,
                "shared": true,
                "flushToDiskInterval": "00:00:05",
                "outputTemplate": "[{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz}] {Message:lj} {NewLine}{Properties:j}{NewLine}"
              }
            }
          ]
        }
      }
    ],
    "Enrich": [ 
      "FromLogContext",
      "WithMachineName",
      "WithProcessId",
      "WithThreadId",
      "WithEnvironmentUserName"
    ],
    "Properties": {
      "Application": "SimRMS",
      "Environment": "Production"
    }
  },
  "Swagger": {
    "EnableInProduction": true,
    "ProductionMode": "Full" // ReadOnly, Limited, Full
  },
  "FileUpload": {
    "Default": {
      "ServerName": "default",
      "UploadPath": "D:\\Uploads\\SimRMS",
      "BaseUrl": "https://localhost:7000/api/files",
      "MaxFileSize": 10485760,
      "AllowedExtensions": [ ".jpg", ".jpeg", ".png", ".gif", ".pdf", ".doc", ".docx", ".xls", ".xlsx", ".txt", ".csv" ],
      "BlockedExtensions": [ ".exe", ".bat", ".cmd", ".scr", ".msi", ".dll", ".vbs", ".js" ],
      "RequiresImpersonation": false,
      "Username": "",
      "Password": "",
      "Domain": "",
      "OrganizeByDate": true,
      "EnableDuplicateCheck": true
    },
    "Servers": {
      "dbserver": {
        "ServerName": "dbserver",
        "UploadPath": "\\\\192.168.100.48\\SharedUploads\\SimRMS",
        "BaseUrl": "https://files.company.com/simrms",
        "MaxFileSize": 52428800,
        "AllowedExtensions": [ ".jpg", ".jpeg", ".png", ".gif", ".pdf", ".doc", ".docx", ".xls", ".xlsx", ".txt", ".csv" ],
        "BlockedExtensions": [ ".exe", ".bat", ".cmd", ".scr", ".msi", ".dll", ".vbs", ".js" ],
        "RequiresImpersonation": true,
        "Username": "fileservice_user",
        "Password": "FileService@123",
        "Domain": "COMPANY",
        "OrganizeByDate": true,
        "EnableDuplicateCheck": true
      },
      "backupserver": {
        "ServerName": "backupserver",
        "UploadPath": "\\\\192.168.100.50\\BackupUploads\\SimRMS",
        "BaseUrl": "https://backup.company.com/simrms",
        "MaxFileSize": 104857600,
        "AllowedExtensions": [ ".jpg", ".jpeg", ".png", ".gif", ".pdf", ".doc", ".docx", ".xls", ".xlsx", ".txt", ".csv", ".zip", ".rar" ],
        "BlockedExtensions": [ ".exe", ".bat", ".cmd", ".scr", ".msi", ".dll", ".vbs", ".js" ],
        "RequiresImpersonation": true,
        "Username": "backup_user",
        "Password": "BackupUser@123",
        "Domain": "COMPANY",
        "OrganizeByDate": true,
        "EnableDuplicateCheck": false
      }
    }
  },
  "LoggingSettings": {
    "RequestResponse": {
      "LogSuccessfulRequests": false,
      "LogRequestBodies": false,
      "LogResponseBodies": false,
      "LogHeaders": false,
      "MaxBodySizeToLog": 512,
      "SlowRequestThresholdMs": 2000,
      "ExcludedPaths": [
        "/health", "/healthcheck", "/favicon.ico", "/robots.txt", 
        "/metrics", "/swagger", "/_framework", "/_vs/browserLink"
      ]
    },
    "Performance": {
      "Enabled": true,
      "LogDatabaseOperations": false,
      "SlowDatabaseThresholdMs": 1000,
      "LogExternalServiceCalls": true
    },
    "Security": {
      "LogAuthenticationEvents": true,
      "LogAuthorizationFailures": true,
      "LogValidationErrors": false,
      "LogSuspiciousActivity": true
    },
    "Database": {
      "LogSuccessfulOperations": false,
      "LogDatabaseErrors": true,
      "LogParameters": false
    },
    "Framework": {
      "SuppressFrameworkNoise": true,
      "LogEntityFrameworkQueries": false,
      "LogAspNetCorePipeline": false,
      "LogHttpClientRequests": false,
      "LogHostingEvents": true
    }
  },
  "Cache": {
    "AbsoluteExpirationHours": 12, // 12 hours only for development mode. In production, consider using a lower value like 1 hours.
    "SlidingExpirationMinutes": 480 // 8 hours only for development mode. In production, consider using a lower value like 20 minute.
  },
  "AllowedHosts": "*"
}